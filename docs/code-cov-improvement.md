# Codeã€€Coverege

| File                                      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          |
| ----------------------------------------- | ------- | -------- | ------- | ------- | -------------------------- |
| All files                                 | 15.93   | 12.4     | 16.4    | 15.82   |                            |
| app                                       | 0       | 0        | 0       | 0       |                            |
| layout.tsx                                | 0       | 100      | 0       | 0       | 3-11                       |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-358                      |
| app/api/admin/migrate-to-sessions         | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-186                      |
| app/api/auth/logout                       | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-28                       |
| app/api/auth/player                       | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-205                      |
| app/api/game/[gameId]                     | 59.18   | 42.1     | 58.33   | 58.51   |                            |
| route.ts                                  | 59.18   | 42.1     | 58.33   | 58.51   | ...184-260,308-368,387,468 |
| app/api/game/[gameId]/cancel-vote-session | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-91                       |
| app/api/game/[gameId]/end                 | 89.18   | 68.75    | 100     | 89.18   |                            |
| route.ts                                  | 89.18   | 68.75    | 100     | 89.18   | 26-27,134-135              |
| app/api/game/[gameId]/rematch             | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-274                      |
| app/api/game/[gameId]/result              | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-262                      |
| app/api/game/[gameId]/riichi              | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 10-204                     |
| app/api/game/[gameId]/ryukyoku            | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-266                      |
| app/api/game/[gameId]/score               | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-305                      |
| app/api/game/[gameId]/start               | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-180                      |
| app/api/game/[gameId]/vote-session        | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-330                      |
| app/api/health                            | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-22                       |
| app/api/players                           | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-63                       |
| app/api/room/[roomCode]                   | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-73                       |
| app/api/room/[roomCode]/rejoin            | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-204                      |
| app/api/room/[roomCode]/seat-order        | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-125                      |
| app/api/room/create                       | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-206                      |
| app/api/room/join                         | 81.42   | 56.25    | 77.77   | 80.59   |                            |
| route.ts                                  | 81.42   | 56.25    | 77.77   | 80.59   | ...-93,110,117,159,248-266 |
| app/api/score/calculate                   | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-57                       |
| app/api/score/patterns                    | 0       | 100      | 0       | 0       |                            |
| route.ts                                  | 0       | 100      | 0       | 0       | 1-16                       |
| app/api/sessions                          | 94.11   | 71.42    | 100     | 93.93   |                            |
| route.ts                                  | 94.11   | 71.42    | 100     | 93.93   | 118-119                    |
| app/api/sessions/[sessionId]              | 57.5    | 22.72    | 33.33   | 61.11   |                            |
| route.ts                                  | 57.5    | 22.72    | 33.33   | 61.11   | 79,97-121,140,167-168      |
| app/api/sessions/[sessionId]/active-game  | 84.61   | 66.66    | 100     | 84.61   |                            |
| route.ts                                  | 84.61   | 66.66    | 100     | 84.61   | 47-48                      |
| app/api/socket                            | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-4                        |
| app/api/solo/[gameId]                     | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-146                      |
| app/api/solo/[gameId]/force-end           | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-123                      |
| app/api/solo/[gameId]/reach               | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-60                       |
| app/api/solo/[gameId]/result              | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-147                      |
| app/api/solo/[gameId]/ryukyoku            | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-103                      |
| app/api/solo/[gameId]/score               | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 2-80                       |
| app/api/solo/create                       | 68.75   | 41.66    | 50      | 67.74   |                            |
| route.ts                                  | 68.75   | 41.66    | 50      | 67.74   | 36,50,66-71,85-129         |
| app/api/stats/[playerId]                  | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-232                      |
| app/api/websocket-status                  | 0       | 0        | 0       | 0       |                            |
| route.ts                                  | 0       | 0        | 0       | 0       | 1-38                       |
| app/game/[gameId]                         | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-1024                     |
| app/room/[roomCode]                       | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-689                      |
| app/room/create                           | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-317                      |
| app/sessions                              | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-346                      |
| app/sessions/[sessionId]                  | 0       | 100      | 0       | 0       |                            |
| page.tsx                                  | 0       | 100      | 0       | 0       | 3-35                       |
| app/solo/create                           | 83.6    | 59.25    | 68.42   | 83.05   |                            |
| page.tsx                                  | 83.6    | 59.25    | 68.42   | 83.05   | ...101,109,139-192,234,302 |
| app/solo/game/[gameId]                    | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-642                      |
| app/stats                                 | 0       | 0        | 0       | 0       |                            |
| page.tsx                                  | 0       | 0        | 0       | 0       | 3-535                      |
| components                                | 34.31   | 32.83    | 30.76   | 35.54   |                            |
| AlertModal.tsx                            | 50      | 40       | 50      | 47.05   | 24-34,39                   |
| ErrorDisplay.tsx                          | 52.94   | 55.26    | 55.55   | 53.12   | ...132-136,145-151,174-250 |
| ForceEndConfirmModal.tsx                  | 100     | 88.88    | 100     | 100     | 33-40                      |
| GameEndScreen.tsx                         | 0       | 0        | 0       | 0       | 3-36                       |
| GameInfo.tsx                              | 0       | 0        | 0       | 0       | 3-254                      |
| GameResult.tsx                            | 47.81   | 40.58    | 32.25   | 49.04   | ...33,551,566,790,872-1087 |
| LazyComponents.tsx                        | 0       | 0        | 0       | 0       | 3-30                       |
| LoadingSpinner.tsx                        | 0       | 0        | 0       | 0       | 3-40                       |
| MenuDrawer.tsx                            | 0       | 0        | 0       | 0       | 9-18                       |
| OptimizedImage.tsx                        | 0       | 0        | 0       | 0       | 3-78                       |
| PlayerStatus.tsx                          | 93.1    | 85.71    | 86.66   | 92.3    | 151-235                    |
| PointAnimation.tsx                        | 0       | 0        | 0       | 0       | 3-149                      |
| QRCodeModal.tsx                           | 0       | 0        | 0       | 0       | 3-56                       |
| RyukyokuForm.tsx                          | 0       | 0        | 0       | 0       | 3-110                      |
| ScoreInputForm.tsx                        | 0       | 0        | 0       | 0       | 3-418                      |
| SessionHistoryModal.tsx                   | 0       | 0        | 0       | 0       | 3-16                       |
| SessionHistoryTable.tsx                   | 94.87   | 70.45    | 92.3    | 94.87   | 81,119                     |
| VotingProgress.tsx                        | 97.36   | 95.45    | 100     | 100     | 87                         |
| WebSocketDebug.tsx                        | 0       | 0        | 0       | 0       | 3-191                      |
| components/common                         | 0       | 0        | 0       | 0       |                            |
| BaseRyukyokuForm.tsx                      | 0       | 0        | 0       | 0       | 3-104                      |
| BaseScoreInputForm.tsx                    | 0       | 0        | 0       | 0       | 3-463                      |
| index.ts                                  | 0       | 100      | 100     | 0       | 3-4                        |
| components/solo                           | 0       | 0        | 0       | 0       |                            |
| SoloRyukyokuForm.tsx                      | 0       | 100      | 0       | 0       | 3-12                       |
| SoloScoreForm.tsx                         | 0       | 0        | 0       | 0       | 3-44                       |
| components/ui                             | 0       | 100      | 0       | 0       |                            |
| button.tsx                                | 0       | 100      | 0       | 0       | 4-8                        |
| contexts                                  | 0       | 0        | 0       | 0       |                            |
| AuthContext.tsx                           | 0       | 0        | 0       | 0       | 9-242                      |
| hooks                                     | 0       | 0        | 0       | 0       |                            |
| usePerformanceMonitor.ts                  | 0       | 0        | 0       | 0       | 3-69                       |
| useSocket.ts                              | 0       | 0        | 0       | 0       | 1-321                      |
| lib                                       | 15.66   | 12.78    | 18.53   | 15.63   |                            |
| auth-fallback.ts                          | 0       | 0        | 0       | 0       | 9-127                      |
| auth.ts                                   | 32.43   | 0        | 20      | 32.43   | 11-34,39-45,53-64,73-81    |
| error-handler.ts                          | 19.81   | 3.17     | 24      | 19.81   | ...131-153,178-183,206-385 |
| point-manager.ts                          | 36.43   | 30.35    | 50      | 36.22   | ...937,1027-1032,1109-1125 |
| prisma.ts                                 | 0       | 0        | 100     | 0       | 1-15                       |
| rematch-service.ts                        | 0       | 0        | 0       | 0       | 1-287                      |
| score.ts                                  | 0       | 0        | 0       | 0       | 1-197                      |
| socket-client.ts                          | 0       | 0        | 0       | 0       | 1-218                      |
| socket.ts                                 | 0       | 0        | 0       | 0       | 1-503                      |
| socketjs.js                               | 0       | 0        | 0       | 0       | 2-324                      |
| storage-utils.ts                          | 0       | 0        | 0       | 0       | 8-86                       |
| utils.ts                                  | 31.57   | 50       | 16.66   | 31.57   | 4-16,28-36                 |
| vote-analysis.ts                          | 50      | 48       | 58.33   | 48.21   | 94-112,129,147-165,179-206 |
| vote-globals.ts                           | 0       | 0        | 0       | 0       | 29-43                      |
| lib/solo                                  | 18.29   | 7.22     | 27.08   | 18.12   |                            |
| auth.ts                                   | 0       | 0        | 0       | 0       | 2-92                       |
| score-manager.ts                          | 0       | 0        | 0       | 0       | 1-416                      |
| solo-point-manager.ts                     | 27.02   | 11.2     | 39.39   | 26.85   | ...539-548,714-756,782-939 |
| schemas                                   | 27.58   | 9.23     | 22.91   | 28.42   |                            |
| common.ts                                 | 56.25   | 13.79    | 40      | 64.1    | 96-108,125-145             |
| index.ts                                  | 0       | 0        | 0       | 0       | 9-261                      |
| multi.ts                                  | 0       | 0        | 0       | 0       | 1-224                      |
| solo.ts                                   | 43.9    | 12.5     | 37.5    | 50      | ...112,125-128,251-316,338 |
| store                                     | 0       | 100      | 0       | 0       |                            |
| useAppStore.ts                            | 0       | 100      | 0       | 0       | 1-165                      |
