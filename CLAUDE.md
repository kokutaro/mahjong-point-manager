# 麻雀点数計算・点棒管理アプリ

## プロジェクト概要

オンライン対応の麻雀点数計算および点棒管理アプリケーションです。4人のプレイヤーがリアルタイムで対局を行い、点数計算と点棒の移動を自動化します。

## 主要機能

### 基本機能

- **オンライン対戦**: 4人のプレイヤーがオンラインで参加可能
- **点数計算**: ツモ・ロンボタンから翻数・符数を選択し、親子判定で自動点数計算
- **点棒管理**: 計算した点数に基づいて他家との点数加減算を自動実行
- **親ローテーション**: 自動的な親の移動管理→起家の設定が必要
- **連チャン管理**: 親のアガリ・流局時の本場増加と本場支払い計算
- **リーチ機能**: リーチ宣言とリーチ棒の管理
- **流局処理**: 流局時の供託（リーチ棒・本場）管理

### UI/UX機能

- **ツモボタン**: ツモ時の操作
- **ロンボタン**: ロン時の操作
- **翻数・符数選択**: 直感的な入力インターフェース
- **リアルタイム点数表示**: 各プレイヤーの現在点数をリアルタイム更新

### 対局終了機能

- **リザルト画面**: 対局終了後の最終点数・順位表示
- **精算計算**: ウマ・オカを含めた最終精算
- **特殊ルール対応**:
  - ウマ（順位点）
  - オカ（配給原点からのプラス分配）
  - トビ賞（マイナス終了時のペナルティ）
  - 焼き鳥（一度も和了できなかった場合のペナルティ）

## 技術要件

### フロントエンド

- レスポンシブデザイン（スマートフォン・タブレット・PC対応）
- リアルタイム通信対応
- 直感的なタッチ操作

### バックエンド

- リアルタイム通信（WebSocket等）
- セッション管理
- 点数計算ロジック
- 対局状態管理

### データ管理

- プレイヤー情報
- 対局履歴
- 点数変動履歴
- 設定情報

## 開発環境

- 言語/フレームワーク: （未定）
- データベース: （未定）
- リアルタイム通信: （未定）

## 点数計算仕様

- 標準的な麻雀ルールに準拠
- 親・子の判定による点数差
- 翻数・符数からの自動計算
- ツモ・ロンの点数分配
- **本場による加算**: アガリ時に本場数×300点を加算して支払い計算
  - ツモ時→全員が本場x100点の支払い
  - ロン時→ロンされたプレイヤーが本場x300点の支払い

## ゲーム進行管理

- 東風戦・半荘戦対応
- 親番管理
- **本場（連荘・流局）管理**:
  - 親のアガリ時: 本場数を増加（連荘継続）
  - 親の流局時: 本場数を増加（親継続）
  - 子のアガリ時: 本場数をリセット（親移動）
- 供託管理（リーチ棒・本場棒）

## 今後の拡張予定

- 対局統計機能
- プレイヤーレーティング
- カスタムルール設定
- 対局リプレイ機能

## 　詳細設計

/docs/　以下を参照
